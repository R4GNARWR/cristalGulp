{"version":3,"sources":["bem-blocks/flats/detail/script.js","main.js","maps.js","pattern.js","preloader.js","swipers.js"],"names":["swiperAlike","Swiper","navigation","nextEl","prevEl","breakpoints","320","slidesPerView","spaceBetween","576","768","991","1400","swiperViews","pagination","el","document","querySelector","menuBtn","documentsList","progressList","paralaxPatterns","querySelectorAll","flatVisualContainers","flatVisualChangeButtons","addClass","element","className","classList","contains","add","removeClass","remove","toggleClass","setListMaxHeight","list","maxItems","childrenHeight","children","offsetHeight","style","maxHeight","changeFlatsVisual","pressedButton","visual","forEach","container","iteratedButton","getBlockPosition","block","offsetTop","observeParalaxBlock","IntersectionObserver","entries","entry","isIntersecting","setParalax","removeProperty","observe","calculateParalax","direction","top","WOW","mobile","init","Fancybox","defaults","closeButton","bind","$","ionRangeSlider","window","addEventListener","childElementCount","lastScroll","pageYOffset","console","log","isTouchDevice","navigator","maxTouchPoints","msMaxTouchPoints","accessWebVr","curScene","curTime","unloadPlayer","eventUnloadPlugins","loadPlayer","accessStdVr","resetValuesForPlugins","isWebVr","embedpano","id","xml","target","passQueryParameters","bgcolor","html5","vars","startscene","starttime","webglsettings","preserveDrawingBuffer","depth","stencil","jQuery","getCurrentTourPlayer","call","currentPanotourPlayer","removepano","pattern","parentNode","getElementById","isVRModeRequested","params","location","search","substring","split","i","length","toLowerCase","initMaps","ymaps","ready","maps","map","data","dataset","innerHTML","mapVar","Map","center","lat","lng","zoom","controls","dots","JSON","parse","dot","dotPlacemark","Placemark","iconLayout","iconImageHref","image","iconImageSize","iconImageOffset","geoObjects","behaviors","disable","innerWidth","timer","ctrlKey","ctrlMessageVisible","events","e","get","fadeOut","fadeIn","clearTimeout","setTimeout","keydown","which","enable","keyup","refreshTimeout","numPointsX","numPointsY","unitWidth","unitHeight","points","refreshDuration","onLoad","bg","svg","createElementNS","setAttribute","offsetWidth","appendChild","unitSize","Math","ceil","y","x","push","originX","originY","randomize","topLeftX","topLeftY","topRightX","topRightY","bottomLeftX","bottomLeftY","bottomRightX","bottomRightY","rando","floor","random","n","polygon","namespaceURI","point1","point2","point3","animate","refresh","childNodes","getAttribute","beginElement","onResize","onload","onresize","mainSliderContentText","mainSliderContentBtnText","architectureSliderContentLabel","architectureSliderContentText","secontTypeSliders","mainSwiper","loop","0","on","activeSlide","slides","activeIndex","activeSlideText","text","activeSlideBtnText","btnText","slider","sliderName","sliderContentLabel","sliderContentText","swiper","effect","activeSlideLabel","label","architectureSwiper","panoSlider"],"mappings":"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","file":"../components/main.min.js","sourcesContent":["const swiperAlike = new Swiper('.flats-detail__alike-swiper', {\r\n  navigation: {\r\n    nextEl: '.flats-detail__alike-swiper-next',\r\n    prevEl: '.flats-detail__alike-swiper-prev',\r\n  },\r\n\r\n  breakpoints: {\r\n    320: {\r\n      slidesPerView: 1,\r\n      spaceBetween: 20\r\n    },\r\n    576: {\r\n      slidesPerView: 2,\r\n    },\r\n    768: {\r\n      slidesPerView: 3,\r\n      spaceBetween: 20\r\n    },\r\n    991: {\r\n      slidesPerView: 4,\r\n      spaceBetween: 30\r\n    },\r\n    1400: {\r\n      slidesPerView: 5,\r\n      spaceBetween: 57,\r\n    }\r\n  }\r\n});\r\n\r\nconst swiperViews = new Swiper('.swiper-flat-views', {\r\n  slidesPerView: 1,\r\n  navigation: {\r\n    nextEl: '.swiper-flat-views__next',\r\n    prevEl: '.swiper-flat-views__prev',\r\n  },\r\n  pagination: {\r\n    el: '.swiper-flat-views__pagination',\r\n  },\r\n});","const navigation = document.querySelector('.navigation');\r\nconst menuBtn = document.querySelector('.header-menu__lines');\r\nconst documentsList = document.querySelector('.documents-list');\r\nconst progressList = document.querySelector('.progress-list');\r\nconst paralaxPatterns = document.querySelectorAll('.pattern-paralax');\r\nconst flatVisualContainers = document.querySelectorAll('.flats-visual');\r\nconst flatVisualChangeButtons = document.querySelectorAll('.flats-filter__visual-type');\r\n\r\nnew WOW({\r\n    mobile:false,\r\n}).init();\r\n\r\nFancybox.defaults.closeButton = false;\r\nFancybox.bind(\"[data-fancybox]\", {});\r\n\r\n$('[data-range]').ionRangeSlider();\r\n\r\nfunction addClass(element, className) {\r\n    if(!element.classList.contains(className))\r\n    {\r\n        element.classList.add(className);\r\n    }\r\n    \r\n}\r\nfunction removeClass(element, className) {\r\n    if(element.classList.contains(className))\r\n    {\r\n        element.classList.remove(className);\r\n    }\r\n}\r\nfunction toggleClass(element, className) {\r\n    if(element.classList.contains(className))\r\n    {\r\n        element.classList.remove(className);\r\n    } else {\r\n        element.classList.add(className);\r\n    }\r\n}\r\n\r\nfunction setListMaxHeight(list, maxItems) {\r\n    if (list && maxItems) \r\n    {\r\n        let children = list.children[0];\r\n        let childrenHeight = children.offsetHeight;\r\n        list.style.maxHeight = childrenHeight * maxItems + \"px\";\r\n    }\r\n}\r\n\r\nif (documentsList) {\r\n    setListMaxHeight(documentsList,7);\r\n}\r\n\r\nwindow.addEventListener('resize', () => {\r\n    if (documentsList) {\r\n        setListMaxHeight(documentsList,7)\r\n    }\r\n    \r\n});\r\n\r\n\r\nif(menuBtn) {\r\n    menuBtn.addEventListener('click', () => {\r\n        toggleClass(menuBtn, 'active');\r\n        toggleClass(navigation, 'active');\r\n    })\r\n}\r\n\r\nif(progressList) {\r\n    if(progressList.childElementCount < 2) {\r\n        document.querySelector('.progress__pattern-2').classList.add('d-none')\r\n        document.querySelector('.progress__pattern-3').classList.add('d-none')\r\n    } else if (progressList.offsetHeight < 3) {\r\n        document.querySelector('.progress__pattern-3').classList.add('d-none')\r\n    }\r\n}\r\n\r\nfunction changeFlatsVisual(pressedButton, visual)\r\n{\r\n    if(flatVisualContainers && visual)\r\n    {\r\n        flatVisualContainers.forEach((container) => {\r\n            if(container === visual)\r\n            {\r\n                removeClass(container, 'd-none')\r\n            }\r\n            else\r\n            {\r\n                addClass(container, 'd-none')\r\n            }\r\n        })\r\n    }\r\n    if(flatVisualChangeButtons && pressedButton)\r\n    {\r\n        flatVisualChangeButtons.forEach((iteratedButton)=> {\r\n            if(iteratedButton === pressedButton)\r\n            {\r\n                addClass(iteratedButton, 'active');\r\n            } else {\r\n                removeClass(iteratedButton, 'active');\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction getBlockPosition(block) {\r\n    let blockStart = block.offsetTop\r\n    let blockEnd = block.offsetTop + block.offsetHeight;\r\n    return([blockStart, blockEnd])\r\n}\r\n\r\nfunction observeParalaxBlock(element, block) {\r\n    var observer = new IntersectionObserver(function(entries) {\r\n      entries.forEach(function(entry) {\r\n        if (entry.isIntersecting) {\r\n          setParalax(element);\r\n        } else {\r\n            element.style.removeProperty('top');\r\n        }\r\n      });\r\n    });\r\n    observer.observe(block);\r\n  }\r\n\r\nfunction calculateParalax(element, direction) {\r\n    if (direction === 'bottom') {\r\n        element.style.top = element.offsetTop + 3 + 'px';\r\n    } else {\r\n        element.style.top = element.offsetTop - 3 + 'px';\r\n    }\r\n}\r\n\r\nlet lastScroll = 0;\r\n\r\nfunction setParalax(element) {\r\n    if(lastScroll < window.pageYOffset) {\r\n        console.log(element)\r\n        calculateParalax(element, 'bottom')\r\n    } else if(lastScroll > window.pageYOffset) {\r\n        calculateParalax(element, 'top')\r\n    }\r\n    lastScroll = window.pageYOffset;\r\n}\r\n\r\nwindow.addEventListener('scroll', function() {\r\n    if(paralaxPatterns) {\r\n        paralaxPatterns.forEach(pattern => {\r\n            observeParalaxBlock(pattern, pattern.parentNode)\r\n        });\r\n    }\r\n})\r\n\r\n\r\nfunction isTouchDevice() {\r\n    return (('ontouchstart' in window) ||\r\n    (navigator.maxTouchPoints > 0) ||\r\n    (navigator.msMaxTouchPoints > 0));\r\n}\r\n\r\nfunction accessWebVr(curScene, curTime){\r\n    unloadPlayer();\r\n    eventUnloadPlugins();\r\n    loadPlayer(true, curScene, curTime);\r\n}\r\nfunction accessStdVr(curScene, curTime){\r\n    unloadPlayer();\r\n    resetValuesForPlugins();\r\n    loadPlayer(false, curScene, curTime);\r\n}\r\nfunction loadPlayer(isWebVr, curScene, curTime) {\r\n    embedpano({\r\n        id:\"krpanoSWFObject\"\r\n        ,xml:\"indexdata/index.xml\"\r\n        ,target:\"panoDIV\"\r\n        ,passQueryParameters:true\r\n        ,bgcolor:\"#000000\"\r\n        ,html5:\"auto\"\r\n        ,vars:{startscene:curScene,starttime:curTime}\r\n        ,webglsettings:{preserveDrawingBuffer:false, depth:true, stencil:true}\r\n    });\r\n}\r\nfunction unloadPlayer(){\r\n    if(jQuery('#krpanoSWFObject')){\r\n        //stop all sounds playing before the removepano\r\n        if (getCurrentTourPlayer() != null) {\r\n            getCurrentTourPlayer().call(\"stopTourSounds();\");\r\n        }\r\n        currentPanotourPlayer = null;\r\n        removepano('krpanoSWFObject');\r\n    }\r\n    \r\n}\r\nvar currentPanotourPlayer = null;\r\n\r\nfunction getCurrentTourPlayer() {\r\n    if (currentPanotourPlayer == null) {\r\n        currentPanotourPlayer = document.getElementById('krpanoSWFObject');\r\n    }\r\n    return currentPanotourPlayer;\r\n}\r\nfunction isVRModeRequested() {\r\n    var querystr = window.location.search.substring(1);\r\n    var params = querystr.split('&');\r\n    for (var i=0; i<params.length; i++){\r\n        if (params[i].toLowerCase() == \"vr\"){\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}","function initMaps()\r\n{\r\n    ymaps.ready(() => {\r\n        const maps = document.querySelectorAll('.map')\r\n        if(maps.length > 0)\r\n        {\r\n            maps.forEach(map => {\r\n                const data = map.dataset;\r\n                map.innerHTML = '<div id=\"ymap_ctrl_display\" style=\"display: none; width: 100%; height: 100%; position: absolute; background-color: rgba(0, 0, 0, 0.5); z-index: 100; pointer-events: none;\"><div style=\"position: relative; top: 50%; left: 0; right: 0; color: white; text-align: center; font-size: 1.8em; pointer-events: none;\">Чтобы изменить масштаб, прокручивайте карту, удерживая клавишу Ctrl.</div></div>';\r\n                let mapVar = new ymaps.Map(map , {\r\n                    center: [data.lat, data.lng],\r\n                    zoom: data.zoom,\r\n                    controls: []\r\n                });\r\n                \r\n                if(data.dots)\r\n                {\r\n                    const dotsArray = JSON.parse(data.dots)\r\n                    dotsArray.forEach(dot => {\r\n                        dotPlacemark = new ymaps.Placemark([dot.lat, dot.lng], {}, {\r\n                            iconLayout: 'default#image',\r\n                            iconImageHref: dot.image || '',\r\n                            iconImageSize: [30, 42],\r\n                            iconImageOffset: [-5, -38]\r\n                        });\r\n                        \r\n                        mapVar.geoObjects.add(dotPlacemark)\r\n                    });\r\n                    \r\n                    \r\n                }\r\n                mapVar.behaviors.disable('scrollZoom');\r\n                \r\n                if(window.innerWidth > 768)\r\n                {\r\n                    var ctrlKey = false;\r\n                    var ctrlMessageVisible = false;\r\n                    var timer;\r\n                    \r\n                    // Отслеживаем скролл мыши на карте, чтобы показывать уведомление\r\n                    mapVar.events.add(['wheel', 'mousedown'], function(e) {\r\n                        if (e.get('type') == 'wheel') {\r\n                            if (!ctrlKey) { // Ctrl не нажат, показываем уведомление\r\n                                $('#ymap_ctrl_display').fadeIn(300);\r\n                                ctrlMessageVisible = true;\r\n                                clearTimeout(timer); // Очищаем таймер, чтобы продолжать показывать уведомление\r\n                                timer = setTimeout(function() {\r\n                                    $('#ymap_ctrl_display').fadeOut(300);\r\n                                    ctrlMessageVisible = false;\r\n                                }, 1500);\r\n                            }\r\n                            else { // Ctrl нажат, скрываем сообщение\r\n                                $('#ymap_ctrl_display').fadeOut(100);\r\n                            }\r\n                        }\r\n                        if (e.get('type') == 'mousedown' && ctrlMessageVisible) { // Скрываем уведомление при клике на карте\r\n                            $('#ymap_ctrl_display').fadeOut(100);\r\n                        }\r\n                    });\r\n                    \r\n                    // Обрабатываем нажатие на Ctrl\r\n                    $(document).keydown(function(e) {\r\n                        if (e.which === 17 && !ctrlKey) { // Ctrl нажат: включаем масштабирование мышью\r\n                            ctrlKey = true;\r\n                            mapVar.behaviors.enable('scrollZoom');\r\n                        }\r\n                    });\r\n                    $(document).keyup(function(e) { // Ctrl не нажат: выключаем масштабирование мышью\r\n                        if (e.which === 17) {\r\n                            ctrlKey = false;\r\n                            mapVar.behaviors.disable('scrollZoom');\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    })\r\n    \r\n}\r\n","\r\n    var refreshDuration = 5000;\r\n    var refreshTimeout;\r\n    var numPointsX;\r\n    var numPointsY;\r\n    var unitWidth;\r\n    var unitHeight;\r\n    var points;\r\n\r\n    document.querySelectorAll('.pattern-mobile').forEach(element => {\r\n        if( window.innerWidth < 992 && !element.classList.contains('main-slider'))\r\n        {\r\n            window.onload = onLoad(element);\r\n            window.onresize = onResize(element);\r\n        }\r\n        else if(element.classList.contains('main-slider'))\r\n        {\r\n            window.onload = onLoad(element);\r\n            window.onresize = onResize(element);\r\n        }\r\n    });\r\n\r\n    function onLoad(bg)\r\n    {\r\n        var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n        svg.setAttribute('width',bg.offsetWidth);\r\n        svg.setAttribute('height',bg.offsetHeight);\r\n        bg.appendChild(svg);\r\n    \r\n        var unitSize = (bg.offsetWidth+bg.offsetHeight)/20;\r\n        numPointsX = Math.ceil(bg.offsetWidth/unitSize)+1;\r\n        numPointsY = Math.ceil(bg.offsetHeight/unitSize)+1;\r\n        unitWidth = Math.ceil(bg.offsetWidth/(numPointsX-1));\r\n        unitHeight = Math.ceil(bg.offsetHeight/(numPointsY-1));\r\n    \r\n        points = [];\r\n    \r\n        for(var y = 0; y < numPointsY; y++) {\r\n            for(var x = 0; x < numPointsX; x++) {\r\n                points.push({x:unitWidth*x, y:unitHeight*y, originX:unitWidth*x, originY:unitHeight*y});\r\n            }\r\n        }\r\n    \r\n        randomize(points);\r\n    \r\n        for(var i = 0; i < points.length; i++) {\r\n            if(points[i].originX != unitWidth*(numPointsX-1) && points[i].originY != unitHeight*(numPointsY-1)) {\r\n                var topLeftX = points[i].x;\r\n                var topLeftY = points[i].y;\r\n                var topRightX = points[i+1].x;\r\n                var topRightY = points[i+1].y;\r\n                var bottomLeftX = points[i+numPointsX].x;\r\n                var bottomLeftY = points[i+numPointsX].y;\r\n                var bottomRightX = points[i+numPointsX+1].x;\r\n                var bottomRightY = points[i+numPointsX+1].y;\r\n    \r\n                var rando = Math.floor(Math.random()*2);\r\n    \r\n                for(var n = 0; n < 2; n++) {\r\n                    var polygon = document.createElementNS(svg.namespaceURI, 'polygon');\r\n    \r\n                    if(rando==0) {\r\n                        if(n==0) {\r\n                            polygon.point1 = i;\r\n                            polygon.point2 = i+numPointsX;\r\n                            polygon.point3 = i+numPointsX+1;\r\n                            polygon.setAttribute('points',topLeftX+','+topLeftY+' '+bottomLeftX+','+bottomLeftY+' '+bottomRightX+','+bottomRightY);\r\n                        } else if(n==1) {\r\n                            polygon.point1 = i;\r\n                            polygon.point2 = i+1;\r\n                            polygon.point3 = i+numPointsX+1;\r\n                            polygon.setAttribute('points',topLeftX+','+topLeftY+' '+topRightX+','+topRightY+' '+bottomRightX+','+bottomRightY);\r\n                        }\r\n                    } else if(rando==1) {\r\n                        if(n==0) {\r\n                            polygon.point1 = i;\r\n                            polygon.point2 = i+numPointsX;\r\n                            polygon.point3 = i+1;\r\n                            polygon.setAttribute('points',topLeftX+','+topLeftY+' '+bottomLeftX+','+bottomLeftY+' '+topRightX+','+topRightY);\r\n                        } else if(n==1) {\r\n                            polygon.point1 = i+numPointsX;\r\n                            polygon.point2 = i+1;\r\n                            polygon.point3 = i+numPointsX+1;\r\n                            polygon.setAttribute('points',bottomLeftX+','+bottomLeftY+' '+topRightX+','+topRightY+' '+bottomRightX+','+bottomRightY);\r\n                        }\r\n                    }\r\n                    polygon.setAttribute('fill','rgba(0,0,0,'+(Math.random()/3)+')');\r\n                    var animate = document.createElementNS('http://www.w3.org/2000/svg','animate');\r\n                    animate.setAttribute('fill','freeze');\r\n                    animate.setAttribute('attributeName','points');\r\n                    animate.setAttribute('dur',refreshDuration+'ms');\r\n                    animate.setAttribute('calcMode','linear');\r\n                    polygon.appendChild(animate);\r\n                    svg.appendChild(polygon);\r\n                }\r\n            }\r\n        }\r\n    \r\n        refresh(bg, points);\r\n    \r\n    }\r\n    \r\n    function randomize(points) {\r\n        for(var i = 0; i < points.length; i++) {\r\n            if(points[i].originX != 0 && points[i].originX != unitWidth*(numPointsX-1)) {\r\n                points[i].x = points[i].originX + Math.random()*unitWidth-unitWidth/2;\r\n            }\r\n            if(points[i].originY != 0 && points[i].originY != unitHeight*(numPointsY-1)) {\r\n                points[i].y = points[i].originY + Math.random()*unitHeight-unitHeight/2;\r\n            }\r\n        }\r\n    }\r\n    \r\n    function refresh(bg, points) {\r\n        randomize(points);\r\n        for(var i = 0; i < bg.querySelector('svg').childNodes.length; i++) {\r\n            var polygon = bg.querySelector('svg').childNodes[i];\r\n            var animate = polygon.childNodes[0];\r\n            if(animate.getAttribute('to')) {\r\n                animate.setAttribute('from',animate.getAttribute('to'));\r\n            }\r\n            animate.setAttribute('to',points[polygon.point1].x+','+points[polygon.point1].y+' '+points[polygon.point2].x+','+points[polygon.point2].y+' '+points[polygon.point3].x+','+points[polygon.point3].y);\r\n            animate.beginElement();\r\n        }\r\n        refreshTimeout = setTimeout(() => {refresh(bg, points);}, refreshDuration);\r\n    }\r\n    \r\n    function onResize(bg) {\r\n        bg.querySelector('svg').remove();\r\n        clearTimeout(refreshTimeout);\r\n        onLoad(bg);\r\n    }\r\n    \r\n\r\n","\r\nwindow.addEventListener(\"DOMContentLoaded\", function(){\r\n\r\n\t\tsetTimeout(\r\n\t\t\tfunction() {\r\n\t\t\t\tdocument.getElementById('preloadWrap').classList.add('hidden');\r\n\t\t\t},\r\n\t\t\t3400\r\n\t\t);\r\n});\r\n\t\r\n","const mainSliderContentText = document.querySelector('.main-slider__content .text');\r\nconst mainSliderContentBtnText = document.querySelector('.main-slider__content .btn');\r\nconst architectureSliderContentLabel = document.querySelector('.main-architecture__slider-content .label');\r\nconst architectureSliderContentText = document.querySelector('.main-architecture__slider-content .text');\r\nconst secontTypeSliders = document.querySelectorAll('.secondTypeSlider');\r\n\r\nconst mainSwiper = new Swiper('.main-swiper', {\r\n  // Optional parameters\r\n  loop: true,\r\n  \r\n  \r\n  breakpoints:\r\n  {\r\n    0:\r\n    {\r\n      navigation: {\r\n        nextEl: '.main-slider__navigation-next-mob',\r\n        prevEl: '.main-slider__navigation-prev-mob',\r\n      },\r\n      pagination: {\r\n        el: '.main-slider__pagination-mob',\r\n      },\r\n    },\r\n    991:\r\n    {\r\n      navigation: {\r\n        nextEl: '.main-slider__navigation-next',\r\n        prevEl: '.main-slider__navigation-prev',\r\n      },\r\n      pagination: {\r\n        el: '.main-slider__pagination',\r\n      },\r\n    }\r\n  }\r\n  \r\n});\r\n\r\nmainSwiper.on('slideChange', () => {\r\n  \r\n  const activeSlide = mainSwiper.slides[mainSwiper.activeIndex];\r\n  const activeSlideText = activeSlide.dataset.text;\r\n  const activeSlideBtnText = activeSlide.dataset.btnText;\r\n  \r\n  if (mainSliderContentText && activeSlideText)\r\n  {\r\n    mainSliderContentText.innerHTML = activeSlideText;\r\n  }\r\n  if (mainSliderContentBtnText && activeSlideBtnText)\r\n  {\r\n    mainSliderContentBtnText.text = activeSlideBtnText;\r\n  }\r\n  \r\n})\r\n\r\nsecontTypeSliders.forEach(slider => {\r\n  const sliderName = slider.getAttribute('id');\r\n  \r\n  const sliderContentLabel = document.querySelector('.'+ sliderName + '-content .label');\r\n  const sliderContentText = document.querySelector('.'+ sliderName + '-content .text');\r\n  const swiper = new Swiper(slider, {\r\n    loop: true,\r\n    effect: 'fade',\r\n    pagination: {\r\n      el: '.'+ sliderName + '-slider__pagination',\r\n    },\r\n    \r\n    // Navigation arrows\r\n    navigation: {\r\n      nextEl: '.'+ sliderName +'-slider__navigation-next',\r\n      prevEl: '.'+ sliderName +'-slider__navigation-prev',\r\n    },\r\n    \r\n  });\r\n  \r\n  swiper.on('slideChange', () => {\r\n    \r\n    const activeSlide = swiper.slides[swiper.activeIndex];\r\n    const activeSlideLabel = activeSlide.dataset.label;\r\n    const activeSlideText = activeSlide.dataset.text;\r\n    \r\n    if (sliderContentLabel && activeSlideText)\r\n    {\r\n      sliderContentLabel.innerHTML = activeSlideLabel;\r\n    }\r\n    if (sliderContentText && activeSlideText)\r\n    {\r\n      sliderContentText.innerHTML = activeSlideText;\r\n    }\r\n    \r\n  })\r\n});\r\n\r\n\r\n\r\nconst architectureSwiper = new Swiper('.main-architecture__slider', {\r\n  // Optional parameters\r\n  loop: true,\r\n  \r\n  // If we need pagination\r\n  pagination: {\r\n    el: '.main-architecture__pagination',\r\n  },\r\n  \r\n  // Navigation arrows\r\n  navigation: {\r\n    nextEl: '.main-architecture__navigation-next',\r\n    prevEl: '.main-architecture__navigation-prev',\r\n  },\r\n  \r\n});\r\n\r\narchitectureSwiper.on('slideChange', () => {\r\n  \r\n  const activeSlide = architectureSwiper.slides[architectureSwiper.activeIndex];\r\n  const activeSlideLabel = activeSlide.dataset.text;\r\n  const activeSlideText = activeSlide.dataset.btnText;\r\n  \r\n  if (architectureSliderContentLabel && activeSlideText)\r\n  {\r\n    architectureSliderContentLabel.innerHTML = activeSlideLabel;\r\n  }\r\n  if (architectureSliderContentText && activeSlideText)\r\n  {\r\n    architectureSliderContentText.innerHTML = activeSlideText;\r\n  }\r\n  \r\n})\r\n\r\nconst panoSlider = new Swiper('.main-architecture__pano-slider', {\r\n  // Optional parameters\r\n  loop: true,\r\n  \r\n  \r\n  // Navigation arrows\r\n  navigation: {\r\n    nextEl: '.architecture-pano__navigation-next',\r\n    prevEl: '.architecture-pano__navigation-prev',\r\n  },\r\n  \r\n});"]}